#!/usr/bin/env node

var bumpit = require('..');
var fs = require('fs');
var files = ['package.json', 'bower.json', 'component.json'];
for (var i = 0, l = files.length; i < l; ++i) {
  var file = files[i];
  var json;
  try { json = require(process.cwd() + '/' + file); } catch (er) { continue; }
  var current = json.version;
  var target = json.version = bumpit(current, process.argv[2], process.argv[3]);
  json = JSON.stringify(json, null, 2) + '\n';
  fs.writeFileSync(file, json);
  console.log(file + ': ' + current + ' -> ' + target);
}
